<template>
<lightning-card  title={greetings} style="background-color:DodgerBlue;">
    <lightning-button label="New" slot="actions" onclick={openModal}></lightning-button>
    <div class="demo-only" style="padding:0.5rem;background:#16325c">
    <div class="slds-text-color_inverse">MyToDo List</div>
    </div>
    <div style="height: 122px;">
        <lightning-datatable
                key-field="id"
                data={data}
                columns={columns}
                onrowaction={handleRowActions}>
        </lightning-datatable>
        </div>
</lightning-card>
    <template if:true={showModal}>
    <section aria-modal="true" class="slds-modal slds-fade-in-open">
        <div class="slds-modal__container ">
            <header class="slds-modal__header">
                <h2 class="slds-text-heading_small">New Page</h2>
                <lightning-icon class="slds-modal__close" icon-name="utility:close" size="small" onclick={closeModal}></lightning-icon> 
            </header>
            <div class="slds-modal__content">
                <div class="slds-p-around_small">
    <lightning-record-edit-form object-api-name={objectAPIName} onsuccess={successHandler} >
        <lightning-messages></lightning-messages>
        <lightning-input-field field-name="Name" type="text" required="true"> </lightning-input-field>
        <lightning-input-field field-name="ToDo_Description__c" required="true"> </lightning-input-field>
        <lightning-input-field field-name="ToDo_EndTime__c" required="true"></lightning-input-field>
        <lightning-input-field field-name="ToDo__c"></lightning-input-field>
        <lightning-button variant="brand" type="submit" label="Submit"  class="slds-p-around_x-small"> </lightning-button>
        <lightning-button variant="brand" label="Cancel" onclick={closeModal} class="slds-p-around_x-small"></lightning-button>
    </lightning-record-edit-form>
                </div>
            </div>
            <!-- <footer class="slds-modal__footer">
                
                <lightning-button variant="brand" label="Cancel" onclick={closeModal} class="slds-p-around_x-small"></lightning-button>
                
            </footer> -->
        </div>
    </section>
    <div class="slds-backdrop slds-backdrop_open"></div>
    
</template>


<template if:true={openEditpage}>
    <section aria-modal="true" class="slds-modal slds-fade-in-open">
        <div class="slds-modal__container ">
            <header class="slds-modal__header">
                <h2 class="slds-text-heading_small">Edit Page</h2>
                <lightning-icon class="slds-modal__close" icon-name="utility:close" size="small" onclick={handleCancel}></lightning-icon> 
            </header>
            <div class="slds-modal__content">
                <div class="slds-p-around_small">
    <lightning-record-edit-form object-api-name={objectAPIName} record-id={CurrentRecordToEdit} onsuccess={handleSuccess} >
        <lightning-messages></lightning-messages>
        <lightning-input-field field-name="Name"> </lightning-input-field>
        <lightning-input-field field-name="ToDo_Description__c" > </lightning-input-field>
        <lightning-input-field field-name="ToDo_EndTime__c"></lightning-input-field>
        <lightning-input-field field-name="ToDo__c" ></lightning-input-field>
        <lightning-button variant="brand" type="submit" label="Submit"  class="slds-p-around_x-small"> </lightning-button>
        <lightning-button variant="brand"  label="Cancel" onclick={handleCancel}  class="slds-p-around_x-small"></lightning-button>
    </lightning-record-edit-form>
                </div>
            </div>
            <!-- <footer class="slds-modal__footer">
                <lightning-button variant="brand"  label="cancel" onclick={handleCancel}  class="slds-p-around_x-small"></lightning-button>
                
            </footer> -->
        </div>
    </section>
    <div class="slds-backdrop slds-backdrop_open"></div>
    
</template>

</template>